<!DOCTYPE html>
<html>
<head>
    <title>Send Data to Server</title>
</head>
<body>
    <h1>Send Data to Server</h1>
    <button id="sendButton">Send Data</button>

    <script>
        const sendButton = document.getElementById('sendButton');

        sendButton.addEventListener('click', () => {
            const predictedClass = 'test'; // Replace this with the predicted class from your Python code
            const probability = 1.0; // Replace this with the probability from your Python code
            
            // Create a JavaScript object with the data
            const dataToSend = {
                predictedClass: predictedClass,
                probability: probability
            };

            // Convert the data to a JSON string
            const jsonData = JSON.stringify(dataToSend);

            // Send the JSON data to the server over the WebSocket connection
            sendDataToServer(jsonData);
        });

        function sendDataToServer(data) {
            const socket = new WebSocket('ws://192.168.10.1:1234'); // Replace your_server_ip with the actual IP of your server

            socket.addEventListener('open', (event) => {
                console.log('Connected to server');
                socket.send(data);
                socket.close();
            });

            socket.addEventListener('error', (event) => {
                console.error('Socket error:', event);
            });

            socket.addEventListener('close', (event) => {
                console.log('Connection closed');
            });
        }
    </script>
</body>
</html>
